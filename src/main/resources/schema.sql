CREATE TABLE IF NOT EXISTS users (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name VARCHAR(50) NOT NULL,
    email VARCHAR(50) NOT NULL,
    password VARCHAR(50) NOT NULL,
    date_of_creation DATE NOT NULL,
    CONSTRAINT pk_users PRIMARY KEY(id),
    CONSTRAINT ug_user_email UNIQUE(email)
);

CREATE TABLE IF NOT EXISTS quotes (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    content TEXT NOT NULL,
    date_of_creation DATE NOT NULL,
    creator_id BIGINT REFERENCES users(id) ON DELETE CASCADE NOT NULL,
    score BIGINT DEFAULT 0,
    CONSTRAINT pk_quotes PRIMARY KEY(id)
);

CREATE TABLE IF NOT EXISTS votes (
    user_id BIGINT REFERENCES users(id) ON DELETE CASCADE NOT NULL,
    quote_id BIGINT REFERENCES quotes(id) ON DELETE CASCADE NOT NULL,
    type VARCHAR(10) NOT NULL,
    CONSTRAINT fk_votes PRIMARY KEY (user_id, quote_id)
);